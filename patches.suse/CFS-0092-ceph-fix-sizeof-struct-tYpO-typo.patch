From: Ilya Dryomov <ilya.dryomov@inktank.com>
Date: Fri, 25 Jul 2014 11:47:21 +0400
Subject: [PATCH] ceph: fix sizeof(struct tYpO *) typo
Mime-version: 1.0
Content-type: text/plain; charset=UTF-8
Content-transfer-encoding: 8bit
Git-commit: 7e8a295295775ec9e05411cefc578ff4bfc94740
Patch-mainline: v3.17
References: Fate#318586


struct ceph_xattr -> struct ceph_inode_xattr

Reported-by: Toralf FÃ¶rster <toralf.foerster@gmx.de>
Signed-off-by: Ilya Dryomov <ilya.dryomov@inktank.com>
Reviewed-by: Alex Elder <elder@linaro.org>
Acked-by: NeilBrown <neilb@suse.com>

---
 fs/ceph/xattr.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

--- a/fs/ceph/xattr.c
+++ b/fs/ceph/xattr.c
@@ -582,7 +582,7 @@ start:
 		xattr_version = ci->i_xattrs.version;
 		spin_unlock(&ci->i_ceph_lock);
 
-		xattrs = kcalloc(numattr, sizeof(struct ceph_xattr *),
+		xattrs = kcalloc(numattr, sizeof(struct ceph_inode_xattr *),
 				 GFP_NOFS);
 		err = -ENOMEM;
 		if (!xattrs)
