From: Jeff Mahoney <jeffm@suse.com>
Subject: xfs/dmapi: propertly send postcreate event
References: bsc#967299
Patch-mainline: Never, depends on DMAPI

xfs_create is supposed to fall through to the DMAPI event generation but
instead returns early.  As a result, the postcreate event isn't generated
except on error.

Signed-off-by: Jeff Mahoney <jeffm@suse.com>
---
 fs/xfs/xfs_inode.c |    1 -
 1 file changed, 1 deletion(-)

--- a/fs/xfs/xfs_inode.c
+++ b/fs/xfs/xfs_inode.c
@@ -1318,7 +1318,6 @@ xfs_create(
 	xfs_qm_dqrele(pdqp);
 
 	*ipp = ip;
-	return 0;
 
 	/* Fallthrough to std_return with error = 0  */
  std_return:
