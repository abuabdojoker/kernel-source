From: Jeff Mahoney <jeffm@suse.com>
Subject: fix xfs-handle-dquot-buffer-readahead-in-log-recovery-co.patch
Patch-mainline: Never, backport bug
References: bsc#1003153

Prior to v3.17, XFS used positive error codes internally.  Commits
backported from later releases need the error code signs reversed.
Negative error codes will cause assertion failures (BUG_ON on kernels
with assertions enabled.

Signed-off-by: Jeff Mahoney <jeffm@suse.com>
---
 fs/xfs/xfs_dquot_buf.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

--- a/fs/xfs/xfs_dquot_buf.c
+++ b/fs/xfs/xfs_dquot_buf.c
@@ -280,7 +280,7 @@ xfs_dquot_buf_readahead_verify(
 
 	if (!xfs_dquot_buf_verify_crc(mp, bp) ||
 	    !xfs_dquot_buf_verify(mp, bp, 0)) {
-		xfs_buf_ioerror(bp, -EIO);
+		xfs_buf_ioerror(bp, EIO);
 		bp->b_flags &= ~XBF_DONE;
 	}
 }
