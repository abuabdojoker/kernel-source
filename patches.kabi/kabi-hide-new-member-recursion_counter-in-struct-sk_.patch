From: Michal Kubecek <mkubecek@suse.cz>
Date: Sat, 8 Oct 2016 01:05:17 +0200
Subject: kabi: hide new member recursion_counter in struct sk_buff
Patch-mainline: Never, kabi workaround
References: CVE-2016-7039 bsc#1001486

The fix for bsc#1001486 inserts a new bitfield recursion_counter into an
existing hole in struct sk_buff. Hide this change from kABI checker.

Signed-off-by: Michal Kubecek <mkubecek@suse.cz>
---
 include/linux/netdevice.h | 2 ++
 1 file changed, 2 insertions(+)

diff --git a/include/linux/netdevice.h b/include/linux/netdevice.h
index 83be373d8540..2aa37f9af176 100644
--- a/include/linux/netdevice.h
+++ b/include/linux/netdevice.h
@@ -2080,7 +2080,9 @@ struct napi_gro_cb {
 	u8	is_ipv6:1;
 
 	/* Number of gro_receive callbacks this packet already went through */
+#ifndef __GENKSYMS__
 	u8 recursion_counter:4;
+#endif
 
 	/* 3 bit hole */
 
-- 
2.10.0

